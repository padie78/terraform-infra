digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_ami.ubuntu" [label="data.aws_ami.ubuntu"];
  "aws_autoscaling_group.web_asg" [label="aws_autoscaling_group.web_asg"];
  "aws_autoscaling_policy.scale_in" [label="aws_autoscaling_policy.scale_in"];
  "aws_autoscaling_policy.scale_out" [label="aws_autoscaling_policy.scale_out"];
  "aws_cloudwatch_metric_alarm.cpu_high" [label="aws_cloudwatch_metric_alarm.cpu_high"];
  "aws_cloudwatch_metric_alarm.cpu_low" [label="aws_cloudwatch_metric_alarm.cpu_low"];
  "aws_eip.lb" [label="aws_eip.lb"];
  "aws_eip.nat" [label="aws_eip.nat"];
  "aws_internet_gateway.igw" [label="aws_internet_gateway.igw"];
  "aws_launch_template.web" [label="aws_launch_template.web"];
  "aws_lb.nlb" [label="aws_lb.nlb"];
  "aws_lb_listener.listener" [label="aws_lb_listener.listener"];
  "aws_lb_target_group.tg" [label="aws_lb_target_group.tg"];
  "aws_nat_gateway.natgw" [label="aws_nat_gateway.natgw"];
  "aws_route_table.public" [label="aws_route_table.public"];
  "aws_route_table_association.public_assoc" [label="aws_route_table_association.public_assoc"];
  "aws_security_group.web_sg" [label="aws_security_group.web_sg"];
  "aws_subnet.public" [label="aws_subnet.public"];
  "aws_vpc.main" [label="aws_vpc.main"];
  "random_pet.lb_hostname" [label="random_pet.lb_hostname"];
  "aws_autoscaling_group.web_asg" -> "aws_launch_template.web";
  "aws_autoscaling_group.web_asg" -> "aws_lb_target_group.tg";
  "aws_autoscaling_group.web_asg" -> "aws_subnet.public";
  "aws_autoscaling_policy.scale_in" -> "aws_autoscaling_group.web_asg";
  "aws_autoscaling_policy.scale_out" -> "aws_autoscaling_group.web_asg";
  "aws_cloudwatch_metric_alarm.cpu_high" -> "aws_autoscaling_policy.scale_out";
  "aws_cloudwatch_metric_alarm.cpu_low" -> "aws_autoscaling_policy.scale_in";
  "aws_internet_gateway.igw" -> "aws_vpc.main";
  "aws_launch_template.web" -> "data.aws_ami.ubuntu";
  "aws_launch_template.web" -> "aws_security_group.web_sg";
  "aws_lb.nlb" -> "aws_subnet.public";
  "aws_lb_listener.listener" -> "aws_lb.nlb";
  "aws_lb_listener.listener" -> "aws_lb_target_group.tg";
  "aws_lb_target_group.tg" -> "aws_vpc.main";
  "aws_nat_gateway.natgw" -> "aws_eip.nat";
  "aws_nat_gateway.natgw" -> "aws_subnet.public";
  "aws_route_table.public" -> "aws_internet_gateway.igw";
  "aws_route_table_association.public_assoc" -> "aws_route_table.public";
  "aws_route_table_association.public_assoc" -> "aws_subnet.public";
  "aws_security_group.web_sg" -> "aws_vpc.main";
  "aws_subnet.public" -> "aws_vpc.main";
}
